---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import HeroSlider from '../components/HeroSlider.astro';
import Partners from '../components/Partners.astro';
import LatestBlog from '../components/LatestBlog.astro';
import { getEntry } from 'astro:content';

// Ambil data Landing Page
const landingPage = await getEntry('landing', 'index');
const { data } = landingPage;

const logos = {
    great: "https://i0.wp.com/greatedunesia.id/wp-content/uploads/2024/05/ico-ge.webp?fit=495%2C177&ssl=1",
    dd: "https://www.dompetdhuafa.org/wp-content/uploads/2023/09/logo-dompet-dhuafa.jpg"
}
---

<Layout title="Beranda - Youth Ekselensia Scholarship">
    
    <Navbar />

    <main class="bg-[#F8F9FB] pb-20">
        
        <HeroSlider slides={data.hero_slider} />

        <section class="max-w-7xl mx-auto px-6 -mt-10 relative z-20">
            <div class="bg-white rounded-3xl shadow-xl p-8 md:p-10 border border-slate-100 grid md:grid-cols-12 gap-8 items-center">
                <div class="md:col-span-8 flex flex-wrap gap-8 md:gap-16 justify-center md:justify-start">
                    {data.stats.map((stat) => (
                        <div>
                            <div class="text-4xl font-extrabold text-blue-900">{stat.number}</div>
                            <div class="text-sm text-slate-500 font-semibold uppercase tracking-wide">{stat.label}</div>
                        </div>
                    ))}
                </div>
                <div class="md:col-span-4 border-t md:border-t-0 md:border-l border-slate-100 pt-6 md:pt-0 pl-0 md:pl-8 flex flex-col items-center md:items-start justify-center">
                    <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-3">Organized By</span>
                    <div class="flex items-center gap-4 opacity-80">
                        <img src={logos.great} class="h-8 w-auto" alt="Great Edunesia">
                        <div class="h-8 w-px bg-slate-300"></div>
                        <img src={logos.dd} class="h-10 w-auto" alt="Dompet Dhuafa">
                    </div>
                </div>
            </div>
        </section>

        <Partners partners={data.partners} />

        <LatestBlog />

        <section class="max-w-4xl mx-auto px-6 py-10">
            <h2 class="text-3xl font-bold text-center mb-10 text-slate-900">Pertanyaan Umum</h2>
            <div class="space-y-4">
                {data.faqs.map((faq) => (
                    <details class="group bg-white rounded-xl border border-slate-200 open:border-blue-500 transition-colors duration-300">
                        <summary class="flex justify-between items-center cursor-pointer p-6 font-bold text-slate-800 list-none">
                            {faq.question}
                            <span class="transition group-open:rotate-180">
                                <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path></svg>
                            </span>
                        </summary>
                        <div class="text-slate-600 px-6 pb-6 pt-0 leading-relaxed">
                            {faq.answer}
                        </div>
                    </details>
                ))}
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-white py-12 text-center">
        <p>Â© 2026 Transformatif EduAction Hub - GREAT Edunesia</p>
    </footer>

</Layout>